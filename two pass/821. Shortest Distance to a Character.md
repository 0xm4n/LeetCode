```c
#define MIN(a,b) ((a) < (b)) ? (a) : (b)
int* shortestToChar(char * s, char c, int* returnSize){
    int len = strlen(s);
    *returnSize = len;
    int *res = malloc(sizeof(int)*len);
    for (int i = 0; i < len; i++)
        res[i] = len + 1;
    for (int i=0, j=-1; i<len; i++) {
        if (s[i] == c) j = i;
        if (j != -1) res[i] = i - j;
    }
    for (int i=len-1, j=-1; i>=0; i--) {
        if (s[i] == c) j = i;
        if (j != -1) res[i] = MIN(res[i], j-i);
    }
    return res;
}
```
